{"version":3,"file":"index.js","sources":["../../../../../node_modules/@aws-sdk/middleware-host-header/dist-es/index.js"],"sourcesContent":["import { HttpRequest } from \"@smithy/protocol-http\";\nexport function resolveHostHeaderConfig(input) {\n    return input;\n}\nexport const hostHeaderMiddleware = (options) => (next) => async (args) => {\n    if (!HttpRequest.isInstance(args.request))\n        return next(args);\n    const { request } = args;\n    const { handlerProtocol = \"\" } = options.requestHandler.metadata || {};\n    if (handlerProtocol.indexOf(\"h2\") >= 0 && !request.headers[\":authority\"]) {\n        delete request.headers[\"host\"];\n        request.headers[\":authority\"] = request.hostname + (request.port ? \":\" + request.port : \"\");\n    }\n    else if (!request.headers[\"host\"]) {\n        let host = request.hostname;\n        if (request.port != null)\n            host += `:${request.port}`;\n        request.headers[\"host\"] = host;\n    }\n    return next(args);\n};\nexport const hostHeaderMiddlewareOptions = {\n    name: \"hostHeaderMiddleware\",\n    step: \"build\",\n    priority: \"low\",\n    tags: [\"HOST\"],\n    override: true,\n};\nexport const getHostHeaderPlugin = (options) => ({\n    applyToStack: (clientStack) => {\n        clientStack.add(hostHeaderMiddleware(options), hostHeaderMiddlewareOptions);\n    },\n});\n"],"names":[],"mappings":";;;;;;;;;AACO,SAAS,uBAAuB,CAAC,KAAK,EAAE;AAC/C,IAAI,OAAO,KAAK;AAChB;AACY,MAAC,oBAAoB,GAAG,CAAC,OAAO,KAAK,CAAC,IAAI,KAAK,OAAO,IAAI,KAAK;AAC3E,IAAI,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC;AAC7C,QAAQ,OAAO,IAAI,CAAC,IAAI,CAAC;AACzB,IAAI,MAAM,EAAE,OAAO,EAAE,GAAG,IAAI;AAC5B,IAAI,MAAM,EAAE,eAAe,GAAG,EAAE,EAAE,GAAG,OAAO,CAAC,cAAc,CAAC,QAAQ,IAAI,EAAE;AAC1E,IAAI,IAAI,eAAe,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE;AAC9E,QAAQ,OAAO,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC;AACtC,QAAQ,OAAO,CAAC,OAAO,CAAC,YAAY,CAAC,GAAG,OAAO,CAAC,QAAQ,IAAI,OAAO,CAAC,IAAI,GAAG,GAAG,GAAG,OAAO,CAAC,IAAI,GAAG,EAAE,CAAC;AACnG,IAAI;AACJ,SAAS,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;AACvC,QAAQ,IAAI,IAAI,GAAG,OAAO,CAAC,QAAQ;AACnC,QAAQ,IAAI,OAAO,CAAC,IAAI,IAAI,IAAI;AAChC,YAAY,IAAI,IAAI,CAAC,CAAC,EAAE,OAAO,CAAC,IAAI,CAAC,CAAC;AACtC,QAAQ,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,IAAI;AACtC,IAAI;AACJ,IAAI,OAAO,IAAI,CAAC,IAAI,CAAC;AACrB;AACY,MAAC,2BAA2B,GAAG;AAC3C,IAAI,IAAI,EAAE,sBAAsB;AAChC,IAAI,IAAI,EAAE,OAAO;AACjB,IAAI,QAAQ,EAAE,KAAK;AACnB,IAAI,IAAI,EAAE,CAAC,MAAM,CAAC;AAClB,IAAI,QAAQ,EAAE,IAAI;AAClB;AACY,MAAC,mBAAmB,GAAG,CAAC,OAAO,MAAM;AACjD,IAAI,YAAY,EAAE,CAAC,WAAW,KAAK;AACnC,QAAQ,WAAW,CAAC,GAAG,CAAC,oBAAoB,CAAC,OAAO,CAAC,EAAE,2BAA2B,CAAC;AACnF,IAAI,CAAC;AACL,CAAC;;;;","x_google_ignoreList":[0]}