import 'os';
import 'path';
import { getProfileName } from '../../../@smithy/shared-ini-file-loader/dist-es/getProfileName.js';
import 'crypto';
import '../../../@smithy/shared-ini-file-loader/dist-es/getSSOTokenFromFile.js';
import '../../../@smithy/types/dist-es/auth/auth.js';
import '../../../@smithy/types/dist-es/auth/HttpApiKeyAuth.js';
import '../../../@smithy/types/dist-es/endpoint.js';
import '../../../@smithy/types/dist-es/extensions/checksum.js';
import '../../../@smithy/types/dist-es/http.js';
import '../../../@smithy/types/dist-es/profile.js';
import '../../../@smithy/types/dist-es/transfer.js';
import '../../../@smithy/shared-ini-file-loader/dist-es/slurpFile.js';
import { parseKnownFiles } from '../../../@smithy/shared-ini-file-loader/dist-es/parseKnownFiles.js';
import { resolveProcessCredentials } from './resolveProcessCredentials.js';

const fromProcess = (init = {}) => async ({ callerClientConfig } = {}) => {
    init.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");
    const profiles = await parseKnownFiles(init);
    return resolveProcessCredentials(getProfileName({
        profile: init.profile ?? callerClientConfig?.profile,
    }), profiles, init.logger);
};

export { fromProcess };
//# sourceMappingURL=fromProcess.js.map
