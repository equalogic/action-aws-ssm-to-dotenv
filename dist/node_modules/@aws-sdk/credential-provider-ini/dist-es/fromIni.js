import 'os';
import 'path';
import { getProfileName } from '../../../@smithy/shared-ini-file-loader/dist-es/getProfileName.js';
import 'crypto';
import '../../../@smithy/shared-ini-file-loader/dist-es/getSSOTokenFromFile.js';
import '../../../@smithy/types/dist-es/auth/auth.js';
import '../../../@smithy/types/dist-es/auth/HttpApiKeyAuth.js';
import '../../../@smithy/types/dist-es/endpoint.js';
import '../../../@smithy/types/dist-es/extensions/checksum.js';
import '../../../@smithy/types/dist-es/http.js';
import '../../../@smithy/types/dist-es/profile.js';
import '../../../@smithy/types/dist-es/transfer.js';
import '../../../@smithy/shared-ini-file-loader/dist-es/slurpFile.js';
import { parseKnownFiles } from '../../../@smithy/shared-ini-file-loader/dist-es/parseKnownFiles.js';
import { resolveProfileData } from './resolveProfileData.js';

const fromIni = (_init = {}) => async ({ callerClientConfig } = {}) => {
    const init = {
        ..._init,
        parentClientConfig: {
            ...callerClientConfig,
            ..._init.parentClientConfig,
        },
    };
    init.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");
    const profiles = await parseKnownFiles(init);
    return resolveProfileData(getProfileName({
        profile: _init.profile ?? callerClientConfig?.profile,
    }), profiles, init);
};

export { fromIni };
//# sourceMappingURL=fromIni.js.map
