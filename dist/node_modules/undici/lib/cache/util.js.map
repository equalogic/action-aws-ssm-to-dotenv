{"version":3,"file":"util.js","sources":["../../../../../node_modules/undici/lib/cache/util.js"],"sourcesContent":["'use strict'\n\nconst assert = require('assert')\nconst { URLSerializer } = require('../fetch/dataURL')\nconst { isValidHeaderName } = require('../fetch/util')\n\n/**\n * @see https://url.spec.whatwg.org/#concept-url-equals\n * @param {URL} A\n * @param {URL} B\n * @param {boolean | undefined} excludeFragment\n * @returns {boolean}\n */\nfunction urlEquals (A, B, excludeFragment = false) {\n  const serializedA = URLSerializer(A, excludeFragment)\n\n  const serializedB = URLSerializer(B, excludeFragment)\n\n  return serializedA === serializedB\n}\n\n/**\n * @see https://github.com/chromium/chromium/blob/694d20d134cb553d8d89e5500b9148012b1ba299/content/browser/cache_storage/cache_storage_cache.cc#L260-L262\n * @param {string} header\n */\nfunction fieldValues (header) {\n  assert(header !== null)\n\n  const values = []\n\n  for (let value of header.split(',')) {\n    value = value.trim()\n\n    if (!value.length) {\n      continue\n    } else if (!isValidHeaderName(value)) {\n      continue\n    }\n\n    values.push(value)\n  }\n\n  return values\n}\n\nmodule.exports = {\n  urlEquals,\n  fieldValues\n}\n"],"names":["require$$1","require$$2"],"mappings":";;;;;;;;;;;AAEA,CAAA,MAAM,MAAM,GAAG;CACf,MAAM,EAAE,aAAa,EAAE,GAAGA,cAAA;CAC1B,MAAM,EAAE,iBAAiB,EAAE,GAAGC,aAAA;;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;CACA,SAAS,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,eAAe,GAAG,KAAK,EAAE;AACnD,GAAE,MAAM,WAAW,GAAG,aAAa,CAAC,CAAC,EAAE,eAAe;;AAEtD,GAAE,MAAM,WAAW,GAAG,aAAa,CAAC,CAAC,EAAE,eAAe;;GAEpD,OAAO,WAAW,KAAK;AACzB,CAAA;;AAEA;AACA;AACA;AACA;CACA,SAAS,WAAW,EAAE,MAAM,EAAE;AAC9B,GAAE,MAAM,CAAC,MAAM,KAAK,IAAI;;GAEtB,MAAM,MAAM,GAAG;;GAEf,KAAK,IAAI,KAAK,IAAI,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;AACvC,KAAI,KAAK,GAAG,KAAK,CAAC,IAAI;;AAEtB,KAAI,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;OACjB;AACN,KAAA,CAAK,MAAM,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,EAAE;OACpC;AACN,KAAA;;AAEA,KAAI,MAAM,CAAC,IAAI,CAAC,KAAK;AACrB,GAAA;;AAEA,GAAE,OAAO;AACT,CAAA;;AAEA,CAAA,IAAc,GAAG;AACjB,GAAE,SAAS;GACT;AACF;;;;;;","x_google_ignoreList":[0]}