{"version":3,"file":"websocket.js","sources":["../../../../../node_modules/undici/lib/websocket/websocket.js"],"sourcesContent":["'use strict'\n\nconst { webidl } = require('../fetch/webidl')\nconst { DOMException } = require('../fetch/constants')\nconst { URLSerializer } = require('../fetch/dataURL')\nconst { getGlobalOrigin } = require('../fetch/global')\nconst { staticPropertyDescriptors, states, opcodes, emptyBuffer } = require('./constants')\nconst {\n  kWebSocketURL,\n  kReadyState,\n  kController,\n  kBinaryType,\n  kResponse,\n  kSentClose,\n  kByteParser\n} = require('./symbols')\nconst { isEstablished, isClosing, isValidSubprotocol, failWebsocketConnection, fireEvent } = require('./util')\nconst { establishWebSocketConnection } = require('./connection')\nconst { WebsocketFrameSend } = require('./frame')\nconst { ByteParser } = require('./receiver')\nconst { kEnumerableProperty, isBlobLike } = require('../core/util')\nconst { getGlobalDispatcher } = require('../global')\nconst { types } = require('util')\n\nlet experimentalWarned = false\n\n// https://websockets.spec.whatwg.org/#interface-definition\nclass WebSocket extends EventTarget {\n  #events = {\n    open: null,\n    error: null,\n    close: null,\n    message: null\n  }\n\n  #bufferedAmount = 0\n  #protocol = ''\n  #extensions = ''\n\n  /**\n   * @param {string} url\n   * @param {string|string[]} protocols\n   */\n  constructor (url, protocols = []) {\n    super()\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'WebSocket constructor' })\n\n    if (!experimentalWarned) {\n      experimentalWarned = true\n      process.emitWarning('WebSockets are experimental, expect them to change at any time.', {\n        code: 'UNDICI-WS'\n      })\n    }\n\n    const options = webidl.converters['DOMString or sequence<DOMString> or WebSocketInit'](protocols)\n\n    url = webidl.converters.USVString(url)\n    protocols = options.protocols\n\n    // 1. Let baseURL be this's relevant settings object's API base URL.\n    const baseURL = getGlobalOrigin()\n\n    // 1. Let urlRecord be the result of applying the URL parser to url with baseURL.\n    let urlRecord\n\n    try {\n      urlRecord = new URL(url, baseURL)\n    } catch (e) {\n      // 3. If urlRecord is failure, then throw a \"SyntaxError\" DOMException.\n      throw new DOMException(e, 'SyntaxError')\n    }\n\n    // 4. If urlRecord’s scheme is \"http\", then set urlRecord’s scheme to \"ws\".\n    if (urlRecord.protocol === 'http:') {\n      urlRecord.protocol = 'ws:'\n    } else if (urlRecord.protocol === 'https:') {\n      // 5. Otherwise, if urlRecord’s scheme is \"https\", set urlRecord’s scheme to \"wss\".\n      urlRecord.protocol = 'wss:'\n    }\n\n    // 6. If urlRecord’s scheme is not \"ws\" or \"wss\", then throw a \"SyntaxError\" DOMException.\n    if (urlRecord.protocol !== 'ws:' && urlRecord.protocol !== 'wss:') {\n      throw new DOMException(\n        `Expected a ws: or wss: protocol, got ${urlRecord.protocol}`,\n        'SyntaxError'\n      )\n    }\n\n    // 7. If urlRecord’s fragment is non-null, then throw a \"SyntaxError\"\n    //    DOMException.\n    if (urlRecord.hash || urlRecord.href.endsWith('#')) {\n      throw new DOMException('Got fragment', 'SyntaxError')\n    }\n\n    // 8. If protocols is a string, set protocols to a sequence consisting\n    //    of just that string.\n    if (typeof protocols === 'string') {\n      protocols = [protocols]\n    }\n\n    // 9. If any of the values in protocols occur more than once or otherwise\n    //    fail to match the requirements for elements that comprise the value\n    //    of `Sec-WebSocket-Protocol` fields as defined by The WebSocket\n    //    protocol, then throw a \"SyntaxError\" DOMException.\n    if (protocols.length !== new Set(protocols.map(p => p.toLowerCase())).size) {\n      throw new DOMException('Invalid Sec-WebSocket-Protocol value', 'SyntaxError')\n    }\n\n    if (protocols.length > 0 && !protocols.every(p => isValidSubprotocol(p))) {\n      throw new DOMException('Invalid Sec-WebSocket-Protocol value', 'SyntaxError')\n    }\n\n    // 10. Set this's url to urlRecord.\n    this[kWebSocketURL] = new URL(urlRecord.href)\n\n    // 11. Let client be this's relevant settings object.\n\n    // 12. Run this step in parallel:\n\n    //    1. Establish a WebSocket connection given urlRecord, protocols,\n    //       and client.\n    this[kController] = establishWebSocketConnection(\n      urlRecord,\n      protocols,\n      this,\n      (response) => this.#onConnectionEstablished(response),\n      options\n    )\n\n    // Each WebSocket object has an associated ready state, which is a\n    // number representing the state of the connection. Initially it must\n    // be CONNECTING (0).\n    this[kReadyState] = WebSocket.CONNECTING\n\n    // The extensions attribute must initially return the empty string.\n\n    // The protocol attribute must initially return the empty string.\n\n    // Each WebSocket object has an associated binary type, which is a\n    // BinaryType. Initially it must be \"blob\".\n    this[kBinaryType] = 'blob'\n  }\n\n  /**\n   * @see https://websockets.spec.whatwg.org/#dom-websocket-close\n   * @param {number|undefined} code\n   * @param {string|undefined} reason\n   */\n  close (code = undefined, reason = undefined) {\n    webidl.brandCheck(this, WebSocket)\n\n    if (code !== undefined) {\n      code = webidl.converters['unsigned short'](code, { clamp: true })\n    }\n\n    if (reason !== undefined) {\n      reason = webidl.converters.USVString(reason)\n    }\n\n    // 1. If code is present, but is neither an integer equal to 1000 nor an\n    //    integer in the range 3000 to 4999, inclusive, throw an\n    //    \"InvalidAccessError\" DOMException.\n    if (code !== undefined) {\n      if (code !== 1000 && (code < 3000 || code > 4999)) {\n        throw new DOMException('invalid code', 'InvalidAccessError')\n      }\n    }\n\n    let reasonByteLength = 0\n\n    // 2. If reason is present, then run these substeps:\n    if (reason !== undefined) {\n      // 1. Let reasonBytes be the result of encoding reason.\n      // 2. If reasonBytes is longer than 123 bytes, then throw a\n      //    \"SyntaxError\" DOMException.\n      reasonByteLength = Buffer.byteLength(reason)\n\n      if (reasonByteLength > 123) {\n        throw new DOMException(\n          `Reason must be less than 123 bytes; received ${reasonByteLength}`,\n          'SyntaxError'\n        )\n      }\n    }\n\n    // 3. Run the first matching steps from the following list:\n    if (this[kReadyState] === WebSocket.CLOSING || this[kReadyState] === WebSocket.CLOSED) {\n      // If this's ready state is CLOSING (2) or CLOSED (3)\n      // Do nothing.\n    } else if (!isEstablished(this)) {\n      // If the WebSocket connection is not yet established\n      // Fail the WebSocket connection and set this's ready state\n      // to CLOSING (2).\n      failWebsocketConnection(this, 'Connection was closed before it was established.')\n      this[kReadyState] = WebSocket.CLOSING\n    } else if (!isClosing(this)) {\n      // If the WebSocket closing handshake has not yet been started\n      // Start the WebSocket closing handshake and set this's ready\n      // state to CLOSING (2).\n      // - If neither code nor reason is present, the WebSocket Close\n      //   message must not have a body.\n      // - If code is present, then the status code to use in the\n      //   WebSocket Close message must be the integer given by code.\n      // - If reason is also present, then reasonBytes must be\n      //   provided in the Close message after the status code.\n\n      const frame = new WebsocketFrameSend()\n\n      // If neither code nor reason is present, the WebSocket Close\n      // message must not have a body.\n\n      // If code is present, then the status code to use in the\n      // WebSocket Close message must be the integer given by code.\n      if (code !== undefined && reason === undefined) {\n        frame.frameData = Buffer.allocUnsafe(2)\n        frame.frameData.writeUInt16BE(code, 0)\n      } else if (code !== undefined && reason !== undefined) {\n        // If reason is also present, then reasonBytes must be\n        // provided in the Close message after the status code.\n        frame.frameData = Buffer.allocUnsafe(2 + reasonByteLength)\n        frame.frameData.writeUInt16BE(code, 0)\n        // the body MAY contain UTF-8-encoded data with value /reason/\n        frame.frameData.write(reason, 2, 'utf-8')\n      } else {\n        frame.frameData = emptyBuffer\n      }\n\n      /** @type {import('stream').Duplex} */\n      const socket = this[kResponse].socket\n\n      socket.write(frame.createFrame(opcodes.CLOSE), (err) => {\n        if (!err) {\n          this[kSentClose] = true\n        }\n      })\n\n      // Upon either sending or receiving a Close control frame, it is said\n      // that _The WebSocket Closing Handshake is Started_ and that the\n      // WebSocket connection is in the CLOSING state.\n      this[kReadyState] = states.CLOSING\n    } else {\n      // Otherwise\n      // Set this's ready state to CLOSING (2).\n      this[kReadyState] = WebSocket.CLOSING\n    }\n  }\n\n  /**\n   * @see https://websockets.spec.whatwg.org/#dom-websocket-send\n   * @param {NodeJS.TypedArray|ArrayBuffer|Blob|string} data\n   */\n  send (data) {\n    webidl.brandCheck(this, WebSocket)\n\n    webidl.argumentLengthCheck(arguments, 1, { header: 'WebSocket.send' })\n\n    data = webidl.converters.WebSocketSendData(data)\n\n    // 1. If this's ready state is CONNECTING, then throw an\n    //    \"InvalidStateError\" DOMException.\n    if (this[kReadyState] === WebSocket.CONNECTING) {\n      throw new DOMException('Sent before connected.', 'InvalidStateError')\n    }\n\n    // 2. Run the appropriate set of steps from the following list:\n    // https://datatracker.ietf.org/doc/html/rfc6455#section-6.1\n    // https://datatracker.ietf.org/doc/html/rfc6455#section-5.2\n\n    if (!isEstablished(this) || isClosing(this)) {\n      return\n    }\n\n    /** @type {import('stream').Duplex} */\n    const socket = this[kResponse].socket\n\n    // If data is a string\n    if (typeof data === 'string') {\n      // If the WebSocket connection is established and the WebSocket\n      // closing handshake has not yet started, then the user agent\n      // must send a WebSocket Message comprised of the data argument\n      // using a text frame opcode; if the data cannot be sent, e.g.\n      // because it would need to be buffered but the buffer is full,\n      // the user agent must flag the WebSocket as full and then close\n      // the WebSocket connection. Any invocation of this method with a\n      // string argument that does not throw an exception must increase\n      // the bufferedAmount attribute by the number of bytes needed to\n      // express the argument as UTF-8.\n\n      const value = Buffer.from(data)\n      const frame = new WebsocketFrameSend(value)\n      const buffer = frame.createFrame(opcodes.TEXT)\n\n      this.#bufferedAmount += value.byteLength\n      socket.write(buffer, () => {\n        this.#bufferedAmount -= value.byteLength\n      })\n    } else if (types.isArrayBuffer(data)) {\n      // If the WebSocket connection is established, and the WebSocket\n      // closing handshake has not yet started, then the user agent must\n      // send a WebSocket Message comprised of data using a binary frame\n      // opcode; if the data cannot be sent, e.g. because it would need\n      // to be buffered but the buffer is full, the user agent must flag\n      // the WebSocket as full and then close the WebSocket connection.\n      // The data to be sent is the data stored in the buffer described\n      // by the ArrayBuffer object. Any invocation of this method with an\n      // ArrayBuffer argument that does not throw an exception must\n      // increase the bufferedAmount attribute by the length of the\n      // ArrayBuffer in bytes.\n\n      const value = Buffer.from(data)\n      const frame = new WebsocketFrameSend(value)\n      const buffer = frame.createFrame(opcodes.BINARY)\n\n      this.#bufferedAmount += value.byteLength\n      socket.write(buffer, () => {\n        this.#bufferedAmount -= value.byteLength\n      })\n    } else if (ArrayBuffer.isView(data)) {\n      // If the WebSocket connection is established, and the WebSocket\n      // closing handshake has not yet started, then the user agent must\n      // send a WebSocket Message comprised of data using a binary frame\n      // opcode; if the data cannot be sent, e.g. because it would need to\n      // be buffered but the buffer is full, the user agent must flag the\n      // WebSocket as full and then close the WebSocket connection. The\n      // data to be sent is the data stored in the section of the buffer\n      // described by the ArrayBuffer object that data references. Any\n      // invocation of this method with this kind of argument that does\n      // not throw an exception must increase the bufferedAmount attribute\n      // by the length of data’s buffer in bytes.\n\n      const ab = Buffer.from(data, data.byteOffset, data.byteLength)\n\n      const frame = new WebsocketFrameSend(ab)\n      const buffer = frame.createFrame(opcodes.BINARY)\n\n      this.#bufferedAmount += ab.byteLength\n      socket.write(buffer, () => {\n        this.#bufferedAmount -= ab.byteLength\n      })\n    } else if (isBlobLike(data)) {\n      // If the WebSocket connection is established, and the WebSocket\n      // closing handshake has not yet started, then the user agent must\n      // send a WebSocket Message comprised of data using a binary frame\n      // opcode; if the data cannot be sent, e.g. because it would need to\n      // be buffered but the buffer is full, the user agent must flag the\n      // WebSocket as full and then close the WebSocket connection. The data\n      // to be sent is the raw data represented by the Blob object. Any\n      // invocation of this method with a Blob argument that does not throw\n      // an exception must increase the bufferedAmount attribute by the size\n      // of the Blob object’s raw data, in bytes.\n\n      const frame = new WebsocketFrameSend()\n\n      data.arrayBuffer().then((ab) => {\n        const value = Buffer.from(ab)\n        frame.frameData = value\n        const buffer = frame.createFrame(opcodes.BINARY)\n\n        this.#bufferedAmount += value.byteLength\n        socket.write(buffer, () => {\n          this.#bufferedAmount -= value.byteLength\n        })\n      })\n    }\n  }\n\n  get readyState () {\n    webidl.brandCheck(this, WebSocket)\n\n    // The readyState getter steps are to return this's ready state.\n    return this[kReadyState]\n  }\n\n  get bufferedAmount () {\n    webidl.brandCheck(this, WebSocket)\n\n    return this.#bufferedAmount\n  }\n\n  get url () {\n    webidl.brandCheck(this, WebSocket)\n\n    // The url getter steps are to return this's url, serialized.\n    return URLSerializer(this[kWebSocketURL])\n  }\n\n  get extensions () {\n    webidl.brandCheck(this, WebSocket)\n\n    return this.#extensions\n  }\n\n  get protocol () {\n    webidl.brandCheck(this, WebSocket)\n\n    return this.#protocol\n  }\n\n  get onopen () {\n    webidl.brandCheck(this, WebSocket)\n\n    return this.#events.open\n  }\n\n  set onopen (fn) {\n    webidl.brandCheck(this, WebSocket)\n\n    if (this.#events.open) {\n      this.removeEventListener('open', this.#events.open)\n    }\n\n    if (typeof fn === 'function') {\n      this.#events.open = fn\n      this.addEventListener('open', fn)\n    } else {\n      this.#events.open = null\n    }\n  }\n\n  get onerror () {\n    webidl.brandCheck(this, WebSocket)\n\n    return this.#events.error\n  }\n\n  set onerror (fn) {\n    webidl.brandCheck(this, WebSocket)\n\n    if (this.#events.error) {\n      this.removeEventListener('error', this.#events.error)\n    }\n\n    if (typeof fn === 'function') {\n      this.#events.error = fn\n      this.addEventListener('error', fn)\n    } else {\n      this.#events.error = null\n    }\n  }\n\n  get onclose () {\n    webidl.brandCheck(this, WebSocket)\n\n    return this.#events.close\n  }\n\n  set onclose (fn) {\n    webidl.brandCheck(this, WebSocket)\n\n    if (this.#events.close) {\n      this.removeEventListener('close', this.#events.close)\n    }\n\n    if (typeof fn === 'function') {\n      this.#events.close = fn\n      this.addEventListener('close', fn)\n    } else {\n      this.#events.close = null\n    }\n  }\n\n  get onmessage () {\n    webidl.brandCheck(this, WebSocket)\n\n    return this.#events.message\n  }\n\n  set onmessage (fn) {\n    webidl.brandCheck(this, WebSocket)\n\n    if (this.#events.message) {\n      this.removeEventListener('message', this.#events.message)\n    }\n\n    if (typeof fn === 'function') {\n      this.#events.message = fn\n      this.addEventListener('message', fn)\n    } else {\n      this.#events.message = null\n    }\n  }\n\n  get binaryType () {\n    webidl.brandCheck(this, WebSocket)\n\n    return this[kBinaryType]\n  }\n\n  set binaryType (type) {\n    webidl.brandCheck(this, WebSocket)\n\n    if (type !== 'blob' && type !== 'arraybuffer') {\n      this[kBinaryType] = 'blob'\n    } else {\n      this[kBinaryType] = type\n    }\n  }\n\n  /**\n   * @see https://websockets.spec.whatwg.org/#feedback-from-the-protocol\n   */\n  #onConnectionEstablished (response) {\n    // processResponse is called when the \"response’s header list has been received and initialized.\"\n    // once this happens, the connection is open\n    this[kResponse] = response\n\n    const parser = new ByteParser(this)\n    parser.on('drain', function onParserDrain () {\n      this.ws[kResponse].socket.resume()\n    })\n\n    response.socket.ws = this\n    this[kByteParser] = parser\n\n    // 1. Change the ready state to OPEN (1).\n    this[kReadyState] = states.OPEN\n\n    // 2. Change the extensions attribute’s value to the extensions in use, if\n    //    it is not the null value.\n    // https://datatracker.ietf.org/doc/html/rfc6455#section-9.1\n    const extensions = response.headersList.get('sec-websocket-extensions')\n\n    if (extensions !== null) {\n      this.#extensions = extensions\n    }\n\n    // 3. Change the protocol attribute’s value to the subprotocol in use, if\n    //    it is not the null value.\n    // https://datatracker.ietf.org/doc/html/rfc6455#section-1.9\n    const protocol = response.headersList.get('sec-websocket-protocol')\n\n    if (protocol !== null) {\n      this.#protocol = protocol\n    }\n\n    // 4. Fire an event named open at the WebSocket object.\n    fireEvent('open', this)\n  }\n}\n\n// https://websockets.spec.whatwg.org/#dom-websocket-connecting\nWebSocket.CONNECTING = WebSocket.prototype.CONNECTING = states.CONNECTING\n// https://websockets.spec.whatwg.org/#dom-websocket-open\nWebSocket.OPEN = WebSocket.prototype.OPEN = states.OPEN\n// https://websockets.spec.whatwg.org/#dom-websocket-closing\nWebSocket.CLOSING = WebSocket.prototype.CLOSING = states.CLOSING\n// https://websockets.spec.whatwg.org/#dom-websocket-closed\nWebSocket.CLOSED = WebSocket.prototype.CLOSED = states.CLOSED\n\nObject.defineProperties(WebSocket.prototype, {\n  CONNECTING: staticPropertyDescriptors,\n  OPEN: staticPropertyDescriptors,\n  CLOSING: staticPropertyDescriptors,\n  CLOSED: staticPropertyDescriptors,\n  url: kEnumerableProperty,\n  readyState: kEnumerableProperty,\n  bufferedAmount: kEnumerableProperty,\n  onopen: kEnumerableProperty,\n  onerror: kEnumerableProperty,\n  onclose: kEnumerableProperty,\n  close: kEnumerableProperty,\n  onmessage: kEnumerableProperty,\n  binaryType: kEnumerableProperty,\n  send: kEnumerableProperty,\n  extensions: kEnumerableProperty,\n  protocol: kEnumerableProperty,\n  [Symbol.toStringTag]: {\n    value: 'WebSocket',\n    writable: false,\n    enumerable: false,\n    configurable: true\n  }\n})\n\nObject.defineProperties(WebSocket, {\n  CONNECTING: staticPropertyDescriptors,\n  OPEN: staticPropertyDescriptors,\n  CLOSING: staticPropertyDescriptors,\n  CLOSED: staticPropertyDescriptors\n})\n\nwebidl.converters['sequence<DOMString>'] = webidl.sequenceConverter(\n  webidl.converters.DOMString\n)\n\nwebidl.converters['DOMString or sequence<DOMString>'] = function (V) {\n  if (webidl.util.Type(V) === 'Object' && Symbol.iterator in V) {\n    return webidl.converters['sequence<DOMString>'](V)\n  }\n\n  return webidl.converters.DOMString(V)\n}\n\n// This implements the propsal made in https://github.com/whatwg/websockets/issues/42\nwebidl.converters.WebSocketInit = webidl.dictionaryConverter([\n  {\n    key: 'protocols',\n    converter: webidl.converters['DOMString or sequence<DOMString>'],\n    get defaultValue () {\n      return []\n    }\n  },\n  {\n    key: 'dispatcher',\n    converter: (V) => V,\n    get defaultValue () {\n      return getGlobalDispatcher()\n    }\n  },\n  {\n    key: 'headers',\n    converter: webidl.nullableConverter(webidl.converters.HeadersInit)\n  }\n])\n\nwebidl.converters['DOMString or sequence<DOMString> or WebSocketInit'] = function (V) {\n  if (webidl.util.Type(V) === 'Object' && !(Symbol.iterator in V)) {\n    return webidl.converters.WebSocketInit(V)\n  }\n\n  return { protocols: webidl.converters['DOMString or sequence<DOMString>'](V) }\n}\n\nwebidl.converters.WebSocketSendData = function (V) {\n  if (webidl.util.Type(V) === 'Object') {\n    if (isBlobLike(V)) {\n      return webidl.converters.Blob(V, { strict: false })\n    }\n\n    if (ArrayBuffer.isView(V) || types.isAnyArrayBuffer(V)) {\n      return webidl.converters.BufferSource(V)\n    }\n  }\n\n  return webidl.converters.USVString(V)\n}\n\nmodule.exports = {\n  WebSocket\n}\n"],"names":["require$$0","require$$1","require$$2","require$$3","require$$4","require$$5","require$$6","require$$7","require$$8","require$$9","require$$10","require$$11","require$$12"],"mappings":"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","x_google_ignoreList":[0]}