{"version":3,"file":"getExtendedInstanceMetadataCredentials.js","sources":["../../../../../../node_modules/@smithy/credential-provider-imds/dist-es/utils/getExtendedInstanceMetadataCredentials.js"],"sourcesContent":["const STATIC_STABILITY_REFRESH_INTERVAL_SECONDS = 5 * 60;\nconst STATIC_STABILITY_REFRESH_INTERVAL_JITTER_WINDOW_SECONDS = 5 * 60;\nconst STATIC_STABILITY_DOC_URL = \"https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html\";\nexport const getExtendedInstanceMetadataCredentials = (credentials, logger) => {\n    const refreshInterval = STATIC_STABILITY_REFRESH_INTERVAL_SECONDS +\n        Math.floor(Math.random() * STATIC_STABILITY_REFRESH_INTERVAL_JITTER_WINDOW_SECONDS);\n    const newExpiration = new Date(Date.now() + refreshInterval * 1000);\n    logger.warn(\"Attempting credential expiration extension due to a credential service availability issue. A refresh of these \" +\n        `credentials will be attempted after ${new Date(newExpiration)}.\\nFor more information, please visit: ` +\n        STATIC_STABILITY_DOC_URL);\n    const originalExpiration = credentials.originalExpiration ?? credentials.expiration;\n    return {\n        ...credentials,\n        ...(originalExpiration ? { originalExpiration } : {}),\n        expiration: newExpiration,\n    };\n};\n"],"names":[],"mappings":"AAAA,MAAM,yCAAyC,GAAG,CAAC,GAAG,EAAE;AACxD,MAAM,uDAAuD,GAAG,CAAC,GAAG,EAAE;AACtE,MAAM,wBAAwB,GAAG,iFAAiF;AACtG,MAAC,sCAAsC,GAAG,CAAC,WAAW,EAAE,MAAM,KAAK;AAC/E,IAAI,MAAM,eAAe,GAAG,yCAAyC;AACrE,QAAQ,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,uDAAuD,CAAC;AAC3F,IAAI,MAAM,aAAa,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,eAAe,GAAG,IAAI,CAAC;AACvE,IAAI,MAAM,CAAC,IAAI,CAAC,gHAAgH;AAChI,QAAQ,CAAC,oCAAoC,EAAE,IAAI,IAAI,CAAC,aAAa,CAAC,CAAC,uCAAuC,CAAC;AAC/G,QAAQ,wBAAwB,CAAC;AACjC,IAAI,MAAM,kBAAkB,GAAG,WAAW,CAAC,kBAAkB,IAAI,WAAW,CAAC,UAAU;AACvF,IAAI,OAAO;AACX,QAAQ,GAAG,WAAW;AACtB,QAAQ,IAAI,kBAAkB,GAAG,EAAE,kBAAkB,EAAE,GAAG,EAAE,CAAC;AAC7D,QAAQ,UAAU,EAAE,aAAa;AACjC,KAAK;AACL;;;;","x_google_ignoreList":[0]}