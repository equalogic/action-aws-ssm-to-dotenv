{"version":3,"file":"loadSharedConfigFiles.js","sources":["../../../../../node_modules/@smithy/shared-ini-file-loader/dist-es/loadSharedConfigFiles.js"],"sourcesContent":["import { join } from \"path\";\nimport { getConfigData } from \"./getConfigData\";\nimport { getConfigFilepath } from \"./getConfigFilepath\";\nimport { getCredentialsFilepath } from \"./getCredentialsFilepath\";\nimport { getHomeDir } from \"./getHomeDir\";\nimport { parseIni } from \"./parseIni\";\nimport { slurpFile } from \"./slurpFile\";\nconst swallowError = () => ({});\nexport const CONFIG_PREFIX_SEPARATOR = \".\";\nexport const loadSharedConfigFiles = async (init = {}) => {\n    const { filepath = getCredentialsFilepath(), configFilepath = getConfigFilepath() } = init;\n    const homeDir = getHomeDir();\n    const relativeHomeDirPrefix = \"~/\";\n    let resolvedFilepath = filepath;\n    if (filepath.startsWith(relativeHomeDirPrefix)) {\n        resolvedFilepath = join(homeDir, filepath.slice(2));\n    }\n    let resolvedConfigFilepath = configFilepath;\n    if (configFilepath.startsWith(relativeHomeDirPrefix)) {\n        resolvedConfigFilepath = join(homeDir, configFilepath.slice(2));\n    }\n    const parsedFiles = await Promise.all([\n        slurpFile(resolvedConfigFilepath, {\n            ignoreCache: init.ignoreCache,\n        })\n            .then(parseIni)\n            .then(getConfigData)\n            .catch(swallowError),\n        slurpFile(resolvedFilepath, {\n            ignoreCache: init.ignoreCache,\n        })\n            .then(parseIni)\n            .catch(swallowError),\n    ]);\n    return {\n        configFile: parsedFiles[0],\n        credentialsFile: parsedFiles[1],\n    };\n};\n"],"names":[],"mappings":";;;;;;;;AAOA,MAAM,YAAY,GAAG,OAAO,EAAE,CAAC;AACnB,MAAC,uBAAuB,GAAG;AAC3B,MAAC,qBAAqB,GAAG,OAAO,IAAI,GAAG,EAAE,KAAK;AAC1D,IAAI,MAAM,EAAE,QAAQ,GAAG,sBAAsB,EAAE,EAAE,cAAc,GAAG,iBAAiB,EAAE,EAAE,GAAG,IAAI;AAC9F,IAAI,MAAM,OAAO,GAAG,UAAU,EAAE;AAChC,IAAI,MAAM,qBAAqB,GAAG,IAAI;AACtC,IAAI,IAAI,gBAAgB,GAAG,QAAQ;AACnC,IAAI,IAAI,QAAQ,CAAC,UAAU,CAAC,qBAAqB,CAAC,EAAE;AACpD,QAAQ,gBAAgB,GAAG,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;AAC3D,IAAI;AACJ,IAAI,IAAI,sBAAsB,GAAG,cAAc;AAC/C,IAAI,IAAI,cAAc,CAAC,UAAU,CAAC,qBAAqB,CAAC,EAAE;AAC1D,QAAQ,sBAAsB,GAAG,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;AACvE,IAAI;AACJ,IAAI,MAAM,WAAW,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC;AAC1C,QAAQ,SAAS,CAAC,sBAAsB,EAAE;AAC1C,YAAY,WAAW,EAAE,IAAI,CAAC,WAAW;AACzC,SAAS;AACT,aAAa,IAAI,CAAC,QAAQ;AAC1B,aAAa,IAAI,CAAC,aAAa;AAC/B,aAAa,KAAK,CAAC,YAAY,CAAC;AAChC,QAAQ,SAAS,CAAC,gBAAgB,EAAE;AACpC,YAAY,WAAW,EAAE,IAAI,CAAC,WAAW;AACzC,SAAS;AACT,aAAa,IAAI,CAAC,QAAQ;AAC1B,aAAa,KAAK,CAAC,YAAY,CAAC;AAChC,KAAK,CAAC;AACN,IAAI,OAAO;AACX,QAAQ,UAAU,EAAE,WAAW,CAAC,CAAC,CAAC;AAClC,QAAQ,eAAe,EAAE,WAAW,CAAC,CAAC,CAAC;AACvC,KAAK;AACL;;;;","x_google_ignoreList":[0]}