{"version":3,"file":"set-socket-keep-alive.js","sources":["../../../../../node_modules/@smithy/node-http-handler/dist-es/set-socket-keep-alive.js"],"sourcesContent":["import { timing } from \"./timing\";\nconst DEFER_EVENT_LISTENER_TIME = 3000;\nexport const setSocketKeepAlive = (request, { keepAlive, keepAliveMsecs }, deferTimeMs = DEFER_EVENT_LISTENER_TIME) => {\n    if (keepAlive !== true) {\n        return -1;\n    }\n    const registerListener = () => {\n        if (request.socket) {\n            request.socket.setKeepAlive(keepAlive, keepAliveMsecs || 0);\n        }\n        else {\n            request.on(\"socket\", (socket) => {\n                socket.setKeepAlive(keepAlive, keepAliveMsecs || 0);\n            });\n        }\n    };\n    if (deferTimeMs === 0) {\n        registerListener();\n        return 0;\n    }\n    return timing.setTimeout(registerListener, deferTimeMs);\n};\n"],"names":[],"mappings":";;AACA,MAAM,yBAAyB,GAAG,IAAI;AAC1B,MAAC,kBAAkB,GAAG,CAAC,OAAO,EAAE,EAAE,SAAS,EAAE,cAAc,EAAE,EAAE,WAAW,GAAG,yBAAyB,KAAK;AACvH,IAAI,IAAI,SAAS,KAAK,IAAI,EAAE;AAC5B,QAAQ,OAAO,EAAE;AACjB,IAAI;AACJ,IAAI,MAAM,gBAAgB,GAAG,MAAM;AACnC,QAAQ,IAAI,OAAO,CAAC,MAAM,EAAE;AAC5B,YAAY,OAAO,CAAC,MAAM,CAAC,YAAY,CAAC,SAAS,EAAE,cAAc,IAAI,CAAC,CAAC;AACvE,QAAQ;AACR,aAAa;AACb,YAAY,OAAO,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC,MAAM,KAAK;AAC7C,gBAAgB,MAAM,CAAC,YAAY,CAAC,SAAS,EAAE,cAAc,IAAI,CAAC,CAAC;AACnE,YAAY,CAAC,CAAC;AACd,QAAQ;AACR,IAAI,CAAC;AACL,IAAI,IAAI,WAAW,KAAK,CAAC,EAAE;AAC3B,QAAQ,gBAAgB,EAAE;AAC1B,QAAQ,OAAO,CAAC;AAChB,IAAI;AACJ,IAAI,OAAO,MAAM,CAAC,UAAU,CAAC,gBAAgB,EAAE,WAAW,CAAC;AAC3D;;;;","x_google_ignoreList":[0]}