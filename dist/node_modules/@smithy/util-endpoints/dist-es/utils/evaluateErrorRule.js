import { EndpointError } from '../types/EndpointError.js';
import { evaluateConditions } from './evaluateConditions.js';
import { evaluateExpression } from './evaluateExpression.js';

const evaluateErrorRule = (errorRule, options) => {
    const { conditions, error } = errorRule;
    const { result, referenceRecord } = evaluateConditions(conditions, options);
    if (!result) {
        return;
    }
    throw new EndpointError(evaluateExpression(error, "Error", {
        ...options,
        referenceRecord: { ...options.referenceRecord, ...referenceRecord },
    }));
};

export { evaluateErrorRule };
//# sourceMappingURL=evaluateErrorRule.js.map
