import { EndpointError } from '../types/EndpointError.js';
import { evaluateExpression } from './evaluateExpression.js';

const getEndpointHeaders = (headers, options) => Object.entries(headers).reduce((acc, [headerKey, headerVal]) => ({
    ...acc,
    [headerKey]: headerVal.map((headerValEntry) => {
        const processedExpr = evaluateExpression(headerValEntry, "Header value entry", options);
        if (typeof processedExpr !== "string") {
            throw new EndpointError(`Header '${headerKey}' value '${processedExpr}' is not a string`);
        }
        return processedExpr;
    }),
}), {});

export { getEndpointHeaders };
//# sourceMappingURL=getEndpointHeaders.js.map
