{"version":3,"file":"object-mapping.js","sources":["../../../../../node_modules/@smithy/smithy-client/dist-es/object-mapping.js"],"sourcesContent":["export function map(arg0, arg1, arg2) {\n    let target;\n    let filter;\n    let instructions;\n    if (typeof arg1 === \"undefined\" && typeof arg2 === \"undefined\") {\n        target = {};\n        instructions = arg0;\n    }\n    else {\n        target = arg0;\n        if (typeof arg1 === \"function\") {\n            filter = arg1;\n            instructions = arg2;\n            return mapWithFilter(target, filter, instructions);\n        }\n        else {\n            instructions = arg1;\n        }\n    }\n    for (const key of Object.keys(instructions)) {\n        if (!Array.isArray(instructions[key])) {\n            target[key] = instructions[key];\n            continue;\n        }\n        applyInstruction(target, null, instructions, key);\n    }\n    return target;\n}\nexport const convertMap = (target) => {\n    const output = {};\n    for (const [k, v] of Object.entries(target || {})) {\n        output[k] = [, v];\n    }\n    return output;\n};\nexport const take = (source, instructions) => {\n    const out = {};\n    for (const key in instructions) {\n        applyInstruction(out, source, instructions, key);\n    }\n    return out;\n};\nconst mapWithFilter = (target, filter, instructions) => {\n    return map(target, Object.entries(instructions).reduce((_instructions, [key, value]) => {\n        if (Array.isArray(value)) {\n            _instructions[key] = value;\n        }\n        else {\n            if (typeof value === \"function\") {\n                _instructions[key] = [filter, value()];\n            }\n            else {\n                _instructions[key] = [filter, value];\n            }\n        }\n        return _instructions;\n    }, {}));\n};\nconst applyInstruction = (target, source, instructions, targetKey) => {\n    if (source !== null) {\n        let instruction = instructions[targetKey];\n        if (typeof instruction === \"function\") {\n            instruction = [, instruction];\n        }\n        const [filter = nonNullish, valueFn = pass, sourceKey = targetKey] = instruction;\n        if ((typeof filter === \"function\" && filter(source[sourceKey])) || (typeof filter !== \"function\" && !!filter)) {\n            target[targetKey] = valueFn(source[sourceKey]);\n        }\n        return;\n    }\n    let [filter, value] = instructions[targetKey];\n    if (typeof value === \"function\") {\n        let _value;\n        const defaultFilterPassed = filter === undefined && (_value = value()) != null;\n        const customFilterPassed = (typeof filter === \"function\" && !!filter(void 0)) || (typeof filter !== \"function\" && !!filter);\n        if (defaultFilterPassed) {\n            target[targetKey] = _value;\n        }\n        else if (customFilterPassed) {\n            target[targetKey] = value();\n        }\n    }\n    else {\n        const defaultFilterPassed = filter === undefined && value != null;\n        const customFilterPassed = (typeof filter === \"function\" && !!filter(value)) || (typeof filter !== \"function\" && !!filter);\n        if (defaultFilterPassed || customFilterPassed) {\n            target[targetKey] = value;\n        }\n    }\n};\nconst nonNullish = (_) => _ != null;\nconst pass = (_) => _;\n"],"names":[],"mappings":"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","x_google_ignoreList":[0]}